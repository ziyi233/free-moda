# 使用示例

## 配置插件

在 Koishi 控制台中配置插件：

1. 安装插件 `koishi-plugin-free-moda`
2. 在插件配置中填入你的 ModelScope API Token
3. （可选）配置 ImgBB API Key

## 图片编辑示例

### 基础编辑

用户发送一张图片后：

```
用户: [图片]
用户: moda.edit 把头发变成蓝色
机器人: 正在处理图片...
机器人: 正在调用魔搭 API...
机器人: 任务已创建 (ID: xxx)，正在生成图片，请稍候...
机器人: [编辑后的图片]
```

### 引用消息编辑

```
用户A: [发送一张猫的图片]
用户B: [引用用户A的消息] 图片编辑 把猫的颜色变成紫色
机器人: [编辑后的图片]
```

### 高级编辑示例

**语义编辑：**
- `moda.edit 将这个角色转换成吉卜力工作室风格`
- `moda.edit 将物体旋转90度`
- `moda.edit 创建这个角色的Q版形象`

**外观编辑：**
- `moda.edit 给人物添加一副太阳镜`
- `moda.edit 将背景改成星空`
- `moda.edit 移除图片中的电线杆`
- `moda.edit 将衣服颜色改成红色`

**文字编辑：**
- `moda.edit 将海报上的"Hello"改成"你好"`
- `moda.edit 将标题文字改成"新年快乐"`
- `moda.edit 删除图片中的水印文字`

## 图片生成示例

### 基础生成

```
用户: moda.generate 一只可爱的橘猫在阳光下打盹
机器人: 正在生成图片...
机器人: 任务已创建 (ID: xxx)，正在生成图片，请稍候...
机器人: [生成的图片]
```

### 使用别名

```
用户: 生成图片 赛博朋克风格的未来城市
机器人: [生成的图片]
```

### 高级生成示例

**风格化生成：**
- `moda.generate 水墨画风格的山水画，有瀑布和松树`
- `moda.generate 油画风格的日落海景`
- `moda.generate 像素艺术风格的复古游戏场景`

**场景生成：**
- `moda.generate 温馨的咖啡店内景，有书架和绿植`
- `moda.generate 科幻太空站内部，有全息投影`
- `moda.generate 古代中国庭院，有假山和锦鲤池`

**角色生成：**
- `moda.generate 可爱的机器人角色，圆润的设计，明亮的颜色`
- `moda.generate 神秘的精灵战士，手持魔法杖`
- `moda.generate Q版的熊猫厨师，戴着高帽子`

## 常见问题

### Q: 图片生成失败怎么办？

A: 可能的原因：
- API Token 无效或过期
- 提示词不符合内容安全规范
- API 调用频率超限
- 网络连接问题

### Q: 图片编辑需要多长时间？

A: 通常需要 10-30 秒，复杂的编辑可能需要更长时间。

### Q: 支持什么格式的图片？

A: 支持常见的图片格式（PNG、JPG、WEBP 等）。图片会自动转换为 API 支持的格式。

### Q: 本地图片如何处理？

A: 插件会自动将本地图片上传到 ImgBB 图床，然后使用图床 URL 调用 API。

### Q: 可以批量处理图片吗？

A: 目前不支持批量处理，每次只能处理一张图片。
